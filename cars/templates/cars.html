{% extends "base.html" %}

{% block content %}
<style>
  .car-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin: 0 auto;
    max-width: 1200px;
    padding: 20px;
  }

  .car-card {
    background-color: #e3e1e1;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    overflow: hidden;
    text-align: center;
    transition: all 0.3s ease;
  }

  .car-card:hover {
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    transform: translateY(-2px);
  }

  .car-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .car-card h2 {
    font-size: 1.5rem;
    margin: 10px;
  }

  .car-card p {
    font-size: 1rem;
    margin-bottom: 10px;
  }

  @media (max-width: 768px) {
    .car-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 576px) {
    .car-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<form method="GET" action="{% url 'cars_list' %}" class="form-inline my-4 justify-content-center">
  <input type="text" name="search" class="form-control mr-2" placeholder="Buscar carro...">
  <button type="submit" class="btn btn-primary">Buscar</button>
</form>

<div class="highlight-section text-center mb-4">
  <h2>OFERTAS EM DESTAQUES</h2>
  <p>CARROS REVISADOS E COM GARANTIAS</p>
</div>

<div class="car-grid">
  {% if cars %}
    {% for car in cars %}
    <a href='{% url 'car_detail' car.pk %}'>
      <div class="car-card">
        {% if car.photo1 %}
        <img src="{{ car.photo1.url }}" alt="{{ car.model }} - {{ car.brand }}">
        {% else %}
        <p class="no-photo1">FOTO NÃO DISPONÍVEL</p>
        {% endif %}
        <h2>{{ car.brand }} {{ car.model }}</h2>
        <p>{{ car.factory_year }} - R$ {{ car.value|floatformat:"2g" }}</p>
      </div>
    </a>
    {% endfor %}
  {% else %}
    <p class="no-results">Nenhum carro encontrado.</p>
  {% endif %}
</div>
{% endblock %}
